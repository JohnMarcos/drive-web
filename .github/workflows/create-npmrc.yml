name: 'Create .npmrc'
runs:
  using: "composite"
  steps:
    - run: echo "registry=https://registry.yarnpkg.com/" > .npmrc
    - run: echo "@internxt:registry=https://npm.pkg.github.com" >> .npmrc
    # You cannot read packages from other private repos with GITHUB_TOKEN
    # You have to use a PAT instead https://github.com/actions/setup-node/issues/49
    - run: echo //npm.pkg.github.com/:_authToken=${{ secrets.PERSONAL_ACCESS_TOKEN }} >> .npmrc
    - run: echo "always-auth=true" >> .npmrc